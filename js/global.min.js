document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelector(".js-theme-menu"),t=document.querySelector(".js-header-theme-menu-overlay"),n=document.querySelector(".js-theme-menu-button"),o=document.querySelectorAll(".js-theme-button"),c=document.querySelectorAll(".js-wallpaper-button"),a=window.matchMedia("(prefers-color-scheme: dark)");function l(e,t){var n=new RegExp("\\b"+t+"[^ ]*[ ]?\\b","g");return e.className=e.className.replace(n,""),e}function m(){const e=localStorage.getItem("colorTheme");l(document.documentElement,"theme-"),null==e?(a.matches&&(document.documentElement.classList.add("theme-auto"),document.documentElement.classList.add("theme-dark")),a.matches||document.documentElement.classList.add("theme-auto")):document.documentElement.classList.add("theme-"+e)}function d(){e.classList.contains("tmpl-header__theme-menu--active")?e.classList.remove("tmpl-header__theme-menu--active"):e.classList.add("tmpl-header__theme-menu--active")}null!==e&&(t.addEventListener("click",d),n.addEventListener("click",d),Array.prototype.forEach.call(o,(function(e,t){o[t].addEventListener("click",(function(e){!function(e){var t=e.target.closest(".js-theme-button").dataset.theme;l(document.documentElement,"theme-"),document.documentElement.classList.add("theme-"+t),"auto"==t?(localStorage.removeItem("colorTheme"),d(),m()):(localStorage.setItem("colorTheme",t),d())}(e)}))})),Array.prototype.forEach.call(c,(function(e,t){c[t].addEventListener("click",(function(e){!function(e){var t=e.target.dataset.color;"classic"!==t?(l(document.documentElement,"wallpaper-"),document.documentElement.classList.add("wallpaper-"+t),localStorage.setItem("wallpaperColor",t),d()):(l(document.documentElement,"wallpaper-"),localStorage.removeItem("wallpaperColor"),d())}(e)}))}))),a.addEventListener("change",m),m(),function(){const e=localStorage.getItem("wallpaperColor");document.documentElement.classList.add("wallpaper-"+e)}()}()}));