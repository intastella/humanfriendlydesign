document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelector(".js-theme-menu"),t=document.querySelector(".js-header-theme-menu-overlay"),c=document.querySelector(".js-theme-menu-button"),n=document.querySelectorAll(".js-theme-button"),o=document.querySelectorAll(".js-accent-button"),a=window.matchMedia("(prefers-color-scheme: dark)");function m(e,t){var c=new RegExp("\\b"+t+"[^ ]*[ ]?\\b","g");return e.className=e.className.replace(c,""),e}function l(){const e=localStorage.getItem("colorTheme");m(document.documentElement,"theme-"),null==e?(a.matches&&(document.documentElement.classList.add("theme-auto"),document.documentElement.classList.add("theme-dark")),a.matches||document.documentElement.classList.add("theme-auto")):document.documentElement.classList.add("theme-"+e)}function d(){e.classList.contains("tmpl-header__theme-menu--active")?e.classList.remove("tmpl-header__theme-menu--active"):e.classList.add("tmpl-header__theme-menu--active")}null!==e&&(t.addEventListener("click",d),c.addEventListener("click",d),Array.prototype.forEach.call(n,(function(e,t){n[t].addEventListener("click",(function(e){!function(e){var t=e.target.closest(".js-theme-button").dataset.theme;m(document.documentElement,"theme-"),document.documentElement.classList.add("theme-"+t),"auto"==t?(localStorage.removeItem("colorTheme"),d(),l()):(localStorage.setItem("colorTheme",t),d())}(e)}))})),Array.prototype.forEach.call(o,(function(e,t){o[t].addEventListener("click",(function(e){!function(e){var t=e.target.dataset.color;"classic"!==t?(m(document.documentElement,"accent-"),document.documentElement.classList.add("accent-"+t),localStorage.setItem("accentColor",t),d()):(m(document.documentElement,"accent-"),localStorage.removeItem("accentColor"),d())}(e)}))}))),a.addEventListener("change",l),l(),function(){const e=localStorage.getItem("accentColor");document.documentElement.classList.add("accent-"+e)}()}()}));