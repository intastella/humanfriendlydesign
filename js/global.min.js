document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelector(".js-theme-menu"),t=document.querySelector(".js-header-theme-menu-overlay"),o=document.querySelector(".js-theme-menu-button"),c=document.querySelectorAll(".js-theme-button"),n=document.querySelectorAll(".js-wallpaper-button"),a=window.matchMedia("(prefers-color-scheme: dark)"),l=localStorage.getItem("colorTheme");function m(e,t){var o=new RegExp("\\b"+t+"[^ ]*[ ]?\\b","g");return e.className=e.className.replace(o,""),e}function d(){document.documentElement.className="","dark"==l&&(console.log("auto applied saved dark"),document.documentElement.classList.add("theme-dark")),"light"==l&&document.documentElement.classList.add("theme-light"),null==l&&(a.matches&&document.documentElement.classList.add("theme-dark"),a.matches)}function r(){e.classList.contains("tmpl-header__theme-menu--active")?e.classList.remove("tmpl-header__theme-menu--active"):e.classList.add("tmpl-header__theme-menu--active")}null!==e&&(t.addEventListener("click",r),o.addEventListener("click",r),Array.prototype.forEach.call(c,(function(e,t){c[t].addEventListener("click",(function(e){!function(e){var t=e.target.closest(".js-theme-button").dataset.theme;m(document.documentElement,"theme-"),"dark"==t&&(document.documentElement.classList.add("theme-dark"),localStorage.setItem("colorTheme",t),r()),"light"==t&&(document.documentElement.classList.add("theme-light"),localStorage.setItem("colorTheme",t),r()),"auto"==t&&(localStorage.removeItem("colorTheme"),r())}(e)}))})),Array.prototype.forEach.call(n,(function(e,t){n[t].addEventListener("click",(function(e){!function(e){console.log("wallpaper color click");var t=e.target.dataset.color;console.log("color="+t),"classic"!==t?(m(document.documentElement,"wallpaper-"),document.documentElement.classList.add("wallpaper-"+t),localStorage.setItem("wallpaperColor",t),r()):(m(document.documentElement,"wallpaper-"),r())}(e)}))}))),a.addEventListener("change",d),d()}()}));